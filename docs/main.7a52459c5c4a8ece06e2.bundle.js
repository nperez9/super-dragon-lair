(()=>{var e,t={116:(e,t,s)=>{"use strict";s(260);const a={min:1,max:4};class i extends Phaser.GameObjects.Text{constructor(e){super(e,10,10,"",{color:"#FFF",fontSize:"28px"}),e.add.existing(this),this.setOrigin(0),this.setScrollFactor(0)}update(){this.setText(`fps: ${Math.floor(this.scene.game.loop.actualFps)}`)}}const r={color:"#eee811",fontSize:"28px",fontFamily:"pixel-cursive"};class n extends Phaser.GameObjects.Text{constructor(e,t=0,s={}){super(e,320,35,`Points: ${t}`,{...r,...s}),this.setDepth(1500).setOrigin(.5,1),this.setScrollFactor(0),this.setStyle({fontFamily:"pixel-cursive"}),e.add.existing(this)}update(e){this.setText(`Points: ${e}`)}}const o=n;var h,c,d;!function(e){e.Background="background",e.Enemy="enemy",e.Player="player",e.Treasure="treasure",e.WinBackground="winBackground",e.StartBackground="startBackground",e.LoseBackground="loseBackground",e.Title="title",e.BlackBackground="blackBackground",e.Repeat="repeat",e.RetryButton="retryButton",e.PointsBlackBG="pointsBlackBG"}(h||(h={})),function(e){e.HolyCrusader="holyCrusader"}(c||(c={})),function(e){e.DragonYellow="dragonYellow",e.DragonGreen="dragonGreen",e.DragonBlue="dragonBlue",e.DragonCian="dragonCian",e.DragonOrange="dragonOrange",e.DragonWhite="dragonWhite",e.DragonGray="dragonGray"}(d||(d={}));const l={cursor:100,stepX:[80,200],rangeY:[60,330],perBg:[1,6],adittionalSpeed:1};class p extends Phaser.Scene{fpsText;distanceText;screenWidth;screenHeigth;player;enemiesGroup;playerSpeed=3;enemySpeed=a;enemyConfig={...l};releasedButton=!1;endGame=!1;additionalCallback;points=0;bgCount=1;startX=-100;addnewBgposition=0;constructor(){super({key:"MainScene"})}create(){this.screenWidth=this.sys.game.config.width,this.screenHeigth=this.sys.game.config.height,this.intializeVariables(),this.add.sprite(this.startX,0,h.Background).setOrigin(0,0).setDepth(0),this.repeatBG(),this.additionalCallback=()=>{},this.distanceText=new o(this,this.points).setDepth(100),this.createPlayer(),this.createEnemies(),this.endGame=!1,this.physics.add.collider(this.player,this.enemiesGroup,this.PlayerEnemeysCollision,null,this)}intializeVariables(){this.points=0,this.bgCount=1,this.addnewBgposition=0,this.enemyConfig={...l}}repeatBG(){this.addnewBgposition=640*(this.bgCount-1);const e=this.startX+640*this.bgCount;this.bgCount++,this.add.sprite(e,0,h.Repeat).setOrigin(0,0)}createPlayer(){const e=this.add.sprite(30,this.screenHeigth/2-10,c.HolyCrusader);e.setScale(2.2).setDepth(100).setOrigin(1,0),this.player=this.physics.add.existing(e,!1),this.player.body.setSize(5,11),this.player.body.setOffset(9,3),this.player.body.setBounce(0,0),this.player.body.setGravityY(0),this.player.body.setGravityX(0),this.player.anims.play("player-idle",0),this.cameras.main.startFollow(this.player,!1,.1,0,-200,-10)}createEnemies(){let e=this.enemyConfig.cursor;this.enemiesGroup=this.physics.add.group();for(let t=0;t<259;t++)this.enemiesGroup.create(e,Phaser.Math.Between(this.enemyConfig.rangeY[0],this.enemyConfig.rangeY[1])),e+=Phaser.Math.Between(this.enemyConfig.stepX[0],this.enemyConfig.stepX[1]);Phaser.Actions.Call(this.enemiesGroup.getChildren(),(e=>{const t=Math.random()<.5?1:-1,s=this.enemySpeed.min+Math.random()*(this.enemySpeed.max-this.enemySpeed.min);var a;e.setScale(3),e.flipX=!0,e.speed=(a=s,Math.round(100*(a+Number.EPSILON))/100*t),e.body.setSize(7,9),e.body.setBounce(0,0),e.body.setOffset(4,6),e.setDepth(100),e.anims.play(function(e){const t=Object.values(e),s=Math.floor(Math.random()*t.length);return console.info("randomIndex",s,t[s]),t[s]}(d)+"idle",0)}),this),this.enemyConfig.cursor+=640}update(){this.additionalCallback(),this.moveEnemies(),this.endGame||this.checkInputs()}moveEnemies(){const e=this.enemiesGroup.getChildren();for(let t=0;t<e.length;t++){e[t].body.setVelocityY(100*e[t].speed);const s=e[t].speed<0&&e[t].y<=this.enemyConfig.rangeY[0];(e[t].speed>0&&e[t].y>=this.enemyConfig.rangeY[1]||s)&&(e[t].speed*=-1)}}PlayerEnemeysCollision(e,t){this.gameOver()}checkInputs(){this.input.activePointer.isDown&&this.releasedButton?(this.player.x+=this.playerSpeed,this.points++,this.distanceText.update(this.points),this.player.x>=this.addnewBgposition&&this.repeatBG()):this.input.activePointer.isDown||(this.releasedButton=!0)}gameOver(){this.endGame=!0,this.cameras.main.shake(200,.01),this.cameras.main.on("camerashakecomplete",(()=>{this.cameras.main.fade(200)})),this.cameras.main.on("camerafadeoutcomplete",(()=>{this.releasedButton=!1,this.scene.start("LoseScene",{points:this.points})}))}gameWin(){this.releasedButton=!1,this.scene.start("WinScene"),this.scene.pause()}}var g,m;!function(e){e.startScreen="startScreen"}(g||(g={})),m||(m={});const u={frameWidth:16,frameHeight:16,margin:0,spacing:0,startFrame:0,endFrame:3},y={frameWidth:16,frameHeight:16,margin:0,spacing:0,startFrame:0,endFrame:4};class f extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.image(h.Background,"assets/sprites/start-scenario.jpg"),this.load.image(h.Repeat,"assets/sprites/repetable.jpg"),this.load.image(h.Player,"assets/sprites/player.png"),this.load.image(h.Enemy,"assets/sprites/dragon.png"),this.load.image(h.Treasure,"assets/sprites/treasure.png"),this.load.image(h.StartBackground,"assets/UI/start-screen.png"),this.load.image(h.WinBackground,"assets/UI/win-screen.jpg"),this.load.image(h.Title,"assets/UI/title.png"),this.load.image(h.BlackBackground,"assets/UI/tap-bg.png"),this.load.image(h.LoseBackground,"assets/UI/lose-screen.jpg"),this.load.image(h.PointsBlackBG,"assets/UI/lose-black-bg.png"),this.load.spritesheet(d.DragonBlue,"assets/sprites/dragons/blue-dragon.png",u),this.load.spritesheet(d.DragonCian,"assets/sprites/dragons/cian-dragon.png",u),this.load.spritesheet(d.DragonGray,"assets/sprites/dragons/gray-dragon.png",u),this.load.spritesheet(d.DragonGreen,"assets/sprites/dragons/green-dragon.png",u),this.load.spritesheet(d.DragonOrange,"assets/sprites/dragons/orange-dragon.png",u),this.load.spritesheet(d.DragonWhite,"assets/sprites/dragons/white-dragon.png",u),this.load.spritesheet(d.DragonYellow,"assets/sprites/dragons/yellow-dragon.png",u),this.load.spritesheet(c.HolyCrusader,"assets/sprites/player/HolyCrusaderIdleSide.png",y),this.load.audio(g.startScreen,"assets/music/startMusic.mp3")}createAnimation(e){return{key:e+"idle",frames:this.anims.generateFrameNames(e,{frames:[0,1,2,3]}),frameRate:5,repeat:-1}}create(){this.anims.create({key:"player-idle",frames:this.anims.generateFrameNames(c.HolyCrusader,{frames:[0,1,2,3]}),frameRate:5,repeat:-1}),this.anims.create(this.createAnimation(d.DragonBlue)),this.anims.create(this.createAnimation(d.DragonCian)),this.anims.create(this.createAnimation(d.DragonGray)),this.anims.create(this.createAnimation(d.DragonGreen)),this.anims.create(this.createAnimation(d.DragonOrange)),this.anims.create(this.createAnimation(d.DragonWhite)),this.anims.create(this.createAnimation(d.DragonYellow)),this.scene.start("StartScene")}}const S={color:"#eee811",fontSize:"40px",fontFamily:"pixel-cursive"};class B extends Phaser.GameObjects.Text{constructor(e,t,s,a,i,r={}){super(e,t,s,a,{...S,...r}),this.setDepth(1500).setOrigin(.5,1),i&&this.setInteractive({useHandCursor:!0}).on("pointerdown",(()=>i())).on("pointerover",(()=>this.setStyle({fill:"red"}))).on("pointerout",(()=>this.setStyle({fill:"#eee811"}))),this.setStyle({fontFamily:"pixel-cursive"}),e.add.existing(this)}}class k extends Phaser.Scene{music;constructor(){super({key:"StartScene"})}create(){const e=this.sys.game.config.height,t=this.sys.game.config.width/2;this.music=this.sound.add(g.startScreen,{loop:!0,volume:.5}),this.add.sprite(t,0,h.StartBackground).setScale(1).setOrigin(.5,0),this.add.sprite(t,0,h.Title).setScale(1).setOrigin(.5,0),this.add.sprite(t,0,h.BlackBackground).setScale(1).setOrigin(.5,0),new B(this,t,e/2+155,"Tap here to play",this.startGame.bind(this),{fontSize:"40px"})}startGame(){this.music.stop(),this.cameras.main.fade(200),this.cameras.main.on("camerafadeoutcomplete",(()=>{this.scene.start("MainScene")}))}}const b=k;class x extends Phaser.Scene{points;constructor(){super({key:"LoseScene"})}init(e){this.cameras.main.fadeIn(200),this.points=e.points}create(){const e=this.sys.game.config.height,t=this.sys.game.config.width/2;this.add.sprite(t,0,h.LoseBackground).setScale(1).setOrigin(.5,0),this.add.sprite(t,0,h.BlackBackground).setScale(1).setOrigin(.5,0),this.add.sprite(t,0,h.PointsBlackBG).setScale(1).setOrigin(.5,0),new B(this,t,e/2+155,"Tap here to replay",this.Replay.bind(this)),new B(this,t,e/2-100,"Game Over",null,{fontSize:"52px",color:"#F80000"}),new B(this,t,e/2,"Score: "+this.points)}Replay(){this.cameras.main.fade(200),this.cameras.main.on("camerafadeoutcomplete",(()=>{this.scene.start("MainScene")}))}}const v=x,C={type:Phaser.AUTO,backgroundColor:"#111",scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:640,height:360},title:"Super-Dragons-Lair",pixelArt:!0,scene:[f,b,p,v],physics:{default:"arcade",arcade:{debug:!1,gravity:{y:0,x:0}}}};window.SPDL={mute:!0},window.addEventListener("load",(()=>{new Phaser.Game(C)}))},204:()=>{}},s={};function a(e){var i=s[e];if(void 0!==i)return i.exports;var r=s[e]={exports:{}};return t[e].call(r.exports,r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,s,i,r)=>{if(!s){var n=1/0;for(d=0;d<e.length;d++){for(var[s,i,r]=e[d],o=!0,h=0;h<s.length;h++)(!1&r||n>=r)&&Object.keys(a.O).every((e=>a.O[e](s[h])))?s.splice(h--,1):(o=!1,r<n&&(n=r));if(o){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,i,r]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var i,r,[n,o,h]=s,c=0;if(n.some((t=>0!==e[t]))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(h)var d=h(a)}for(t&&t(s);c<n.length;c++)r=n[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},s=self.webpackChunksuper_dragon_lair=self.webpackChunksuper_dragon_lair||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),a.O(void 0,[216],(()=>a(116)));var i=a.O(void 0,[216],(()=>a(204)));i=a.O(i)})();