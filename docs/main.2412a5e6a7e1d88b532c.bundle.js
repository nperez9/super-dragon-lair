(()=>{var e,s={212:(e,s,t)=>{"use strict";t(260);const a={min:1,max:4};class i extends Phaser.GameObjects.Text{constructor(e){super(e,10,10,"",{color:"#FFF",fontSize:"28px"}),e.add.existing(this),this.setOrigin(0),this.setScrollFactor(0)}update(){this.setText(`fps: ${Math.floor(this.scene.game.loop.actualFps)}`)}}const n={color:"#eee811",fontSize:"28px",fontFamily:"pixel-cursive"};class r extends Phaser.GameObjects.Text{constructor(e,s=0,t={}){super(e,320,35,`Points: ${s}`,{...n,...t}),this.setDepth(1500).setOrigin(.5,1),this.setScrollFactor(0),this.setStyle({fontFamily:"pixel-cursive"}),e.add.existing(this)}update(e){this.setText(`Points: ${e}`)}}const o=r;var h,c,l,d,p;!function(e){e.Background="background",e.Enemy="enemy",e.Player="player",e.Treasure="treasure",e.WinBackground="winBackground",e.StartBackground="startBackground",e.LoseBackground="loseBackground",e.Title="title",e.BlackBackground="blackBackground",e.Repeat="repeat",e.RetryButton="retryButton",e.PointsBlackBG="pointsBlackBG"}(h||(h={})),function(e){e.HolyCrusader="holyCrusader"}(c||(c={})),function(e){e.DragonYellow="dragonYellow",e.DragonGreen="dragonGreen",e.DragonBlue="dragonBlue",e.DragonCian="dragonCian",e.DragonOrange="dragonOrange",e.DragonWhite="dragonWhite",e.DragonGray="dragonGray"}(l||(l={})),function(e){e.startScreen="startScreen",e.mianGame="mainGame",e.loseGame="loseGame"}(d||(d={})),function(e){e.click="click",e.playerHit="playerHit"}(p||(p={}));const g={cursor:100,stepX:[80,200],rangeY:[60,330],perBg:[1,6],adittionalSpeed:1};class m extends Phaser.Scene{fpsText;distanceText;screenWidth;screenHeigth;music;player;enemiesGroup;playerSpeed=3;enemySpeed=a;enemyConfig={...g};releasedButton=!1;endGame=!1;additionalCallback;points=0;bgCount=1;startX=-100;addnewBgposition=0;constructor(){super({key:"MainScene"})}create(){this.screenWidth=this.sys.game.config.width,this.screenHeigth=this.sys.game.config.height,this.intializeVariables(),this.add.sprite(this.startX,0,h.Background).setOrigin(0,0).setDepth(0),this.repeatBG(),this.additionalCallback=()=>{},this.distanceText=new o(this,this.points).setDepth(100),this.createPlayer(),this.createEnemies(),this.endGame=!1,this.physics.add.collider(this.player,this.enemiesGroup,this.PlayerEnemeysCollision,null,this),this.music=this.sound.add(d.mianGame,{loop:!0,volume:.5}),this.music.play()}intializeVariables(){this.points=0,this.bgCount=1,this.addnewBgposition=0,this.enemyConfig={...g}}repeatBG(){this.addnewBgposition=640*(this.bgCount-1);const e=this.startX+640*this.bgCount;this.bgCount++,this.add.sprite(e,0,h.Repeat).setOrigin(0,0)}createPlayer(){const e=this.add.sprite(30,this.screenHeigth/2-10,c.HolyCrusader);e.setScale(2.2).setDepth(100).setOrigin(1,0),this.player=this.physics.add.existing(e,!1),this.player.body.setSize(5,11),this.player.body.setOffset(9,3),this.player.body.setBounce(0,0),this.player.body.setGravityY(0),this.player.body.setGravityX(0),this.player.anims.play("player-idle",0),this.cameras.main.startFollow(this.player,!1,.1,0,-200,-10)}createEnemies(){let e=this.enemyConfig.cursor;this.enemiesGroup=this.physics.add.group();for(let s=0;s<259;s++)this.enemiesGroup.create(e,Phaser.Math.Between(this.enemyConfig.rangeY[0],this.enemyConfig.rangeY[1])),e+=Phaser.Math.Between(this.enemyConfig.stepX[0],this.enemyConfig.stepX[1]);Phaser.Actions.Call(this.enemiesGroup.getChildren(),(e=>{const s=Math.random()<.5?1:-1,t=this.enemySpeed.min+Math.random()*(this.enemySpeed.max-this.enemySpeed.min);var a;e.setScale(3),e.flipX=!0,e.speed=(a=t,Math.round(100*(a+Number.EPSILON))/100*s),e.body.setSize(7,9),e.body.setBounce(0,0),e.body.setOffset(4,6),e.setDepth(100),e.anims.play(function(e){const s=Object.values(e);return s[Math.floor(Math.random()*s.length)]}(l)+"idle",0)}),this),this.enemyConfig.cursor+=640}update(){this.additionalCallback(),this.moveEnemies(),this.endGame||this.checkInputs()}moveEnemies(){const e=this.enemiesGroup.getChildren();for(let s=0;s<e.length;s++){e[s].body.setVelocityY(100*e[s].speed);const t=e[s].speed<0&&e[s].y<=this.enemyConfig.rangeY[0];(e[s].speed>0&&e[s].y>=this.enemyConfig.rangeY[1]||t)&&(e[s].speed*=-1)}}PlayerEnemeysCollision(e,s){this.gameOver()}checkInputs(){this.input.activePointer.isDown&&this.releasedButton?(this.player.x+=this.playerSpeed,this.points++,this.distanceText.update(this.points),this.player.x>=this.addnewBgposition&&this.repeatBG()):this.input.activePointer.isDown||(this.releasedButton=!0)}gameOver(){this.endGame||this.sound.play(p.playerHit,{volume:.6}),this.endGame=!0,this.player.anims.stop(),this.player.rotation=-.5,this.cameras.main.shake(250,.01),this.cameras.main.on("camerashakecomplete",(()=>{this.cameras.main.fade(200)})),this.cameras.main.on("camerafadeoutcomplete",(()=>{this.releasedButton=!1,this.music.stop(),this.scene.start("LoseScene",{points:this.points})}))}gameWin(){this.releasedButton=!1,this.scene.start("WinScene"),this.scene.pause()}}const u={frameWidth:16,frameHeight:16,margin:0,spacing:0,startFrame:0,endFrame:3},y={frameWidth:16,frameHeight:16,margin:0,spacing:0,startFrame:0,endFrame:4};class f extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.load.image(h.Background,"assets/sprites/start-scenario.jpg"),this.load.image(h.Repeat,"assets/sprites/repetable.jpg"),this.load.image(h.Player,"assets/sprites/player.png"),this.load.image(h.Enemy,"assets/sprites/dragon.png"),this.load.image(h.Treasure,"assets/sprites/treasure.png"),this.load.image(h.StartBackground,"assets/UI/start-screen.png"),this.load.image(h.WinBackground,"assets/UI/win-screen.jpg"),this.load.image(h.Title,"assets/UI/title.png"),this.load.image(h.BlackBackground,"assets/UI/tap-bg.png"),this.load.image(h.LoseBackground,"assets/UI/lose-screen.jpg"),this.load.image(h.PointsBlackBG,"assets/UI/lose-black-bg.png"),this.load.spritesheet(l.DragonBlue,"assets/sprites/dragons/blue-dragon.png",u),this.load.spritesheet(l.DragonCian,"assets/sprites/dragons/cian-dragon.png",u),this.load.spritesheet(l.DragonGray,"assets/sprites/dragons/gray-dragon.png",u),this.load.spritesheet(l.DragonGreen,"assets/sprites/dragons/green-dragon.png",u),this.load.spritesheet(l.DragonOrange,"assets/sprites/dragons/orange-dragon.png",u),this.load.spritesheet(l.DragonWhite,"assets/sprites/dragons/white-dragon.png",u),this.load.spritesheet(l.DragonYellow,"assets/sprites/dragons/yellow-dragon.png",u),this.load.spritesheet(c.HolyCrusader,"assets/sprites/player/HolyCrusaderIdleSide.png",y),this.load.audio(d.startScreen,"assets/music/start.ogg"),this.load.audio(d.loseGame,"assets/music/lose.ogg"),this.load.audio(d.mianGame,"assets/music/main.ogg"),this.load.audio(p.click,"assets/sfx/metalClick.ogg"),this.load.audio(p.playerHit,"assets/sfx/bookClose.ogg")}createAnimation(e){return{key:e+"idle",frames:this.anims.generateFrameNames(e,{frames:[0,1,2,3]}),frameRate:5,repeat:-1}}create(){this.anims.create({key:"player-idle",frames:this.anims.generateFrameNames(c.HolyCrusader,{frames:[0,1,2,3]}),frameRate:5,repeat:-1}),this.anims.create(this.createAnimation(l.DragonBlue)),this.anims.create(this.createAnimation(l.DragonCian)),this.anims.create(this.createAnimation(l.DragonGray)),this.anims.create(this.createAnimation(l.DragonGreen)),this.anims.create(this.createAnimation(l.DragonOrange)),this.anims.create(this.createAnimation(l.DragonWhite)),this.anims.create(this.createAnimation(l.DragonYellow)),this.scene.start("StartScene")}}const S={color:"#eee811",fontSize:"40px",fontFamily:"pixel-cursive"};class k extends Phaser.GameObjects.Text{constructor(e,s,t,a,i,n={}){super(e,s,t,a,{...S,...n}),this.setDepth(1500).setOrigin(.5,1),i&&this.setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{this.scene.sound.play(p.click,{volume:.6}),i()})).on("pointerover",(()=>this.setStyle({fill:"red"}))).on("pointerout",(()=>this.setStyle({fill:"#eee811"}))),this.setStyle({fontFamily:"pixel-cursive"}),e.add.existing(this)}}class B extends Phaser.Scene{music;constructor(){super({key:"StartScene"})}create(){const e=this.sys.game.config.height,s=this.sys.game.config.width/2;this.music=this.sound.add(d.startScreen,{loop:!0,volume:.5}),this.music.play(),this.add.sprite(s,0,h.StartBackground).setScale(1).setOrigin(.5,0),this.add.sprite(s,0,h.Title).setScale(1).setOrigin(.5,0),this.add.sprite(s,0,h.BlackBackground).setScale(1).setOrigin(.5,0),new k(this,s,e/2+155,"Tap here to play",this.startGame.bind(this),{fontSize:"40px"})}startGame(){this.music.stop(),this.cameras.main.fade(200),this.cameras.main.on("camerafadeoutcomplete",(()=>{this.scene.start("MainScene")}))}}const b=B;class G extends Phaser.Scene{points;music;constructor(){super({key:"LoseScene"})}init(e){this.cameras.main.fadeIn(200),this.points=e.points}create(){const e=this.sys.game.config.height,s=this.sys.game.config.width/2;this.add.sprite(s,0,h.LoseBackground).setScale(1).setOrigin(.5,0),this.add.sprite(s,0,h.BlackBackground).setScale(1).setOrigin(.5,0),this.add.sprite(s,0,h.PointsBlackBG).setScale(1).setOrigin(.5,0),new k(this,s,e/2+155,"Tap here to replay",this.Replay.bind(this)),new k(this,s,e/2-100,"Game Over",null,{fontSize:"52px",color:"#F80000"}),new k(this,s,e/2,"Score: "+this.points),this.cameras.main.fadeIn(200),this.cameras.main.on("camerafadeincomplete",(()=>{this.sound.stopAll(),this.sound.play(d.loseGame,{volume:.5})}))}Replay(){this.cameras.main.fade(200),this.cameras.main.on("camerafadeoutcomplete",(()=>{this.sound.stopAll(),this.scene.start("MainScene")}))}}const v=G,x={type:Phaser.AUTO,backgroundColor:"#111",scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:640,height:360},title:"Super-Dragons-Lair",pixelArt:!0,scene:[f,b,m,v],physics:{default:"arcade",arcade:{debug:!1,gravity:{y:0,x:0}}}};window.SPDL={mute:!0},window.addEventListener("load",(()=>{new Phaser.Game(x)}))},204:()=>{}},t={};function a(e){var i=t[e];if(void 0!==i)return i.exports;var n=t[e]={exports:{}};return s[e].call(n.exports,n,n.exports,a),n.exports}a.m=s,e=[],a.O=(s,t,i,n)=>{if(!t){var r=1/0;for(l=0;l<e.length;l++){for(var[t,i,n]=e[l],o=!0,h=0;h<t.length;h++)(!1&n||r>=n)&&Object.keys(a.O).every((e=>a.O[e](t[h])))?t.splice(h--,1):(o=!1,n<r&&(r=n));if(o){e.splice(l--,1);var c=i();void 0!==c&&(s=c)}}return s}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[t,i,n]},a.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={179:0};a.O.j=s=>0===e[s];var s=(s,t)=>{var i,n,[r,o,h]=t,c=0;if(r.some((s=>0!==e[s]))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(h)var l=h(a)}for(s&&s(t);c<r.length;c++)n=r[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(l)},t=self.webpackChunksuper_dragon_lair=self.webpackChunksuper_dragon_lair||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})(),a.O(void 0,[216],(()=>a(212)));var i=a.O(void 0,[216],(()=>a(204)));i=a.O(i)})();